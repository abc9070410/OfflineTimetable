/* * This file is part of Offline Timetable
 * Copyright (C) 2014 Chien-Yu Chen <abc9070410@gmail.com> * * Licensed under the Apache License, Version 2.0 (the "License"); * you may not use this file except in compliance with the License. * You may obtain a copy of the License at * *      http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */ if (!((window.DocumentTouch && document instanceof DocumentTouch) || 'ontouchstart' in window)) {    var script = document.createElement("script");    script.src = "plugins/af.desktopBrowsers.js";    var tag = $("head").append(script);        //$.os.android = true; //let's make it run like an android device    $.os.desktop = true;            //$.os.android = false;    //$.os.ios7 = true;    $.ui.useOSThemes = true; // set the os theme }setStyle();$.ui.useOSThemes = true;var webRoot = "./";$.ui.autoLaunch = false; //By default, it is set to true and you're app will run right away.  We set it to false to show a splashscreen/* This function runs when the body is loaded.*/var alreadyInitialized = false; // ensure calling init() only one timevar init = function () {        if ( alreadyInitialized )            return;                window.setTimeout(function () {            $.ui.launch();        }, 1500);//We wait 1.5 seconds to call $.ui.launch after DOMContentLoaded fires                //$.ui.showLoading=true;                 initSetting();        initUI();                $.ui.backButtonText = S_BACK[gLanguageIndex];// We override the back button text to always say "Back"                        //showBackgroundImage( "bg_sunrise.jpg" );        initData();                //alert( getNumber( "04" ) );                //log( getClosestStationIDs( 1022, 1202, CAR_KINGBUS ) );    };    //if ( !navSupported() )    document.addEventListener("DOMContentLoaded", init, false);$.ui.ready(function () {    //This function will get executed when $.ui.launch has completed        if ( navSupported() && giPlatform != PLATFORM_DESKTOP )        $.ui.removeFooterMenu(); // disable navbar (footer) menu});window.addEventListener("hashchange", onHashChange, false);function onHashChange(){    var hash = location.hash;    //alert( "id = " + hash  );        changeHash( hash.substring( 1, hash.length ) ); }